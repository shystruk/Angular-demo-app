"use strict";var app=angular.module("app",["ngRoute","ngResource","ngCookies","LocalStorageModule","pascalprecht.translate","topMenuService","homeSliderService"]);app.config(["$routeProvider","$locationProvider",function(a){a.when("/",{templateUrl:"app/modules/home/home.html",controller:"homeCtrl",title:"V.S.12 | Home"}).when("/mac",{templateUrl:"app/modules/product/mac.html",controller:"macCtrl",title:"MacBook"}).when("/login",{templateUrl:"app/modules/home/login/login.html",controller:"loginCtrl",title:"Login"}).when("/account",{templateUrl:"app/modules/account/my_account.html",controller:"accountCtrl",title:"MyAccount"}).otherwise({redirectTo:"/"})}]),app.run(["$location","$rootScope","$translate",function(a,b,c){b.$on("$routeChangeSuccess",function(a,d){b.title=d.$$route.title,c("TITLE."+b.title).then(function(a){b.title=a})})}]),app.filter("encodeURI",function(){return window.encodeURI}),app.directive("scroll",["$window",function(a){return function(b){angular.element(a).bind("scroll",function(){b.scrollFun=this.pageYOffset>=50?!0:!1,b.$apply()})}}]),app.config(["$translateProvider",function(a){a.translations("en_US",{PRICE:"Price:","SIGN-IN":"Sign-In",LOGIN:"Login",PASSWORD:"Password",WELCOME:"Welcome",GUEST:"Guest",SUBMIT:"Submit",COM_NAME:"Your Name",COM_TEXTAREA:"Share your thoughts",COMMENT:"All Comments",COMMENTS:{YES:"All Comments",NO:"No Comments Yet"},REMOVE:"Remove"}),a.translations("uk_UA",{PRICE:"Ціна:","SIGN-IN":"Увійти",LOGIN:"Логін",PASSWORD:"Пароль",WELCOME:"Вітаємо",GUEST:"Гостя",TITLE:{"V.S.12 | Home":"V.S.12 | Головна",MacBook:"МакБук",Login:"Вхід",MyAccount:"Мій Кабінет"},SUBMIT:"Відправити",COM_NAME:'Ваше Ім"я',COM_TEXTAREA:"Поділіться своєю думкою",COMMENT:"Всі коментарі",REMOVE:"Видалити"}),a.translations("de",{PRICE:"Preis:","SIGN-IN":"Mein Konto",LOGIN:"Einloggen",PASSWORD:"Passwort",WELCOME:"Willkommen",GUEST:"Gast",TITLE:{"V.S.12 | Home":"V.S.12 | Zuhause",MacBook:"MacBook",Login:"Einloggen",MyAccount:"Mein Konto"},SUBMIT:"Einreichen",COM_NAME:"Ihren Namen",COM_TEXTAREA:"Sagen Sie Ihre Meinung",COMMENT:"Alle Kommentare Anzeigen",REMOVE:"Entfernen"}),a.translations("fr",{PRICE:"Prix:","SIGN-IN":"Connexion",LOGIN:"S'identifier",PASSWORD:"Mot de passe",WELCOME:"Bienvenue",GUEST:"Invité",TITLE:{"V.S.12 | Home":"V.S.12 | Accueil",MacBook:"МакБук",Login:'S"identifier',MyAccount:"Mon Compte"},SUBMIT:"Soumettre",COM_NAME:"Votre Nom",COM_TEXTAREA:"Partagez votre opinion",COMMENT:"Tous Les Commentaires",REMOVE:"Supprimer"}),a.determinePreferredLanguage(),a.useLocalStorage()}]),app.controller("changeLangCtrl",["$translate","$scope",function(a,b){b.currentLang=a.use(),b.changeLanguage=function(c){a.use(c),b.currentLang=c}}]),app.controller("accountCtrl",["$scope",function(){}]),app.controller("homeCtrl",["$scope","$location",function(a,b){a.logOut=function(){b.path="home"}}]),app.controller("loginCtrl",["$scope","$location",function(a,b){a.credentials={login:"",password:""},a.text="Hello World!",a.$watch("credentials.login",function(b){a.credentials.password=b}),a.signIn=function(){"guest"===a.credentials.login&&"guest"===a.credentials.password&&b.path("/account")}}]),app.controller("topBarCtrl",["$scope","MenuHTTP",function(a,b){a.logoUrl="app/image/logo.jpg",a.menuName=[],b.names(function(b){a.menuName=b})}]),app.directive("topBar",function(){return{restrict:"AE",templateUrl:"app/modules/home/top_menu/top_menu.html"}}),angular.module("topMenuService",["ngResource"]).factory("Menu",["$resource",function(a){return a("app/modules/home/top_menu/:topFile.json",{},{query:{method:"GET",params:{topFile:"top_menu"},isArray:!0,cache:!0}})}]).factory("MenuHTTP",["$http",function(a){function b(b){a({method:"GET",url:"app/modules/home/top_menu/top_menu.json",cache:!0}).success(b)}return{names:b}}]),app.controller("homeSliderCtrl",["$scope","HomeSlider",function(a,b){a.images=[],b.image(function(b){a.images=b})}]),app.directive("wallopSlider",function(){return{template:'<div class="wallop-slider {{animationClass}}"><ul class="wallop-slider__list"><li class="wallop-slider__item {{itemClasses[$index]}}" ng-repeat="i in images"><img ng-src="{{i.src}}" /><span class="slider-price">{{"PRICE" | translate}} {{i.price | currency}}</span></li></ul><a ng-show="images.length>1" class="wallop-slider__btn wallop-slider__btn--previous btn btn--previous" ng-disabled="prevDisabled" ng-click="onPrevButtonClicked()"><i class="arrow-left"></i></a><a ng-show="images.length>1" class="wallop-slider__btn wallop-slider__btn--next btn btn--next" ng-disabled="nextDisabled" ng-click="onNextButtonClicked()"><i class="arrow-right"></i></a></div>',restrict:"EA",transclude:!0,replace:!1,scope:{images:"=",prices:"=",animation:"@",currentItemIndex:"=",onNext:"&",onPrevious:"&"},controller:["$scope","$timeout",function(a){function b(){return a.currentItemIndex+1===a.images.length}function c(){return!a.currentItemIndex}function d(){a.nextDisabled=b(),a.prevDisabled=c()}function e(){for(var b=0;b<a.images.length;b++)a.itemClasses[b]=""}function f(b){if(b>=a.images.length||0>b||b===a.currentItemIndex)return void(b||(a.itemClasses[0]=g.currentItemClass));e(),a.itemClasses[a.currentItemIndex]=b>a.currentItemIndex?g.hidePreviousClass:g.hideNextClass;var c=b>a.currentItemIndex?g.showNextClass:g.showPreviousClass;a.itemClasses[b]=g.currentItemClass+" "+c,a.currentItemIndex=b,d()}a.itemClasses=[],a.$watch("images",function(a){a.length&&f(0)}),a.animation&&(a.animationClass="wallop-slider--"+a.animation);var g={btnPreviousClass:"wallop-slider__btn--previous",btnNextClass:"wallop-slider__btn--next",itemClass:"wallop-slider__item",currentItemClass:"wallop-slider__item--current",showPreviousClass:"wallop-slider__item--show-previous",showNextClass:"wallop-slider__item--show-next",hidePreviousClass:"wallop-slider__item--hide-previous",hideNextClass:"wallop-slider__item--hide-next"};a.onPrevButtonClicked=function(){f(a.currentItemIndex-1)},a.onNextButtonClicked=function(){f(a.currentItemIndex+1)},a.$watch("currentItemIndex",function(b,c){c>b?"function"==typeof a.onPrevious&&a.onPrevious():"function"==typeof a.onNext&&a.onNext()})}]}}),angular.module("homeSliderService",["ngResource"]).factory("HomeSlider",["$http",function(a){function b(b){a({method:"GET",url:"app/modules/home_slider/home_slider.json",cache:!0}).success(b)}return{image:b}}]),app.directive("commentsBlock",function(){return{restrict:"E",templateUrl:"app/modules/comments/comments.html"}}),app.service("commentsJSON",["$http",function(a){return{getJSON:function(){return a.get("app/modules/comments/comments.json")}}}]),app.controller("commentsCtrl",["$scope","$translate","localStorageService",function(a,b,c){a.yourName="",a.yourThoughts="",a.commentsData=[],a.cacheData="commentsData",null!==c.get(a.cacheData)&&(a.commentsData=c.get(a.cacheData)),a.$watch("commentsData",function(){c.add(a.cacheData,JSON.stringify(a.commentsData))},!0),a.addComments=function(){a.commentDate=new Date,a.commentsData.unshift({name:a.yourName,thoughts:a.yourThoughts,date:a.commentDate}),a.yourName="",a.yourThoughts=""},a.counts=function(){var b=0;return a.titleComments="",angular.forEach(a.commentsData,function(a,c,d){b=Object.keys(d).length}),b},a.deleteComment=function(b){var c,d;for(c=0,d=a.commentsData.length;d>c;c++)a.commentsData[c].name===b&&a.commentsData.splice(c,1)}}]);