"use strict";var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"app/views/home.html",controller:"homeCtrl"}).when("/mac",{templateUrl:"app/views/product/mac.html",controller:"macCtrl"})}]),app.controller("topBarCtrl",function(a,b){b.get("app/views/top-bar/top-menu.json").success(function(b){a.menuName=b}),a.logoUrl="app/image/logo.jpg"}),app.controller("homeCtrl",function(a){a.home=this}),app.controller("homeSliderCtrl",function(a){a.currentSliderIndex=1,a.images=["app/image/home-slider/slider-1.jpg","app/image/home-slider/slider-2.jpg","app/image/home-slider/slider-3.jpg"]}),app.directive("topBar",function(){return{restrict:"E",templateUrl:"app/views/top-bar/top-menu.html"}}),app.directive("wallopSlider",function(){return{template:'<div class="wallop-slider {{animationClass}}"><ul class="wallop-slider__list"><li class="wallop-slider__item {{itemClasses[$index]}}" ng-repeat="i in images"><img src="{{i}}"></li></ul><a ng-show="images.length>1" class="wallop-slider__btn wallop-slider__btn--previous btn btn--previous" ng-disabled="prevDisabled" ng-click="onPrevButtonClicked()"><i class="arrow-left"></i></a><a ng-show="images.length>1" class="wallop-slider__btn wallop-slider__btn--next btn btn--next" ng-disabled="nextDisabled" ng-click="onNextButtonClicked()"><i class="arrow-right"></i></a></div>',restrict:"EA",transclude:!0,replace:!1,scope:{images:"=",animation:"@",currentItemIndex:"=",onNext:"&",onPrevious:"&"},controller:function(a){function b(){return a.currentItemIndex+1===a.images.length}function c(){return!a.currentItemIndex}function d(){a.nextDisabled=b(),a.prevDisabled=c()}function e(){for(var b=0;b<a.images.length;b++)a.itemClasses[b]=""}function f(b){if(b>=a.images.length||0>b||b===a.currentItemIndex)return void(b||(a.itemClasses[0]=g.currentItemClass));e(),a.itemClasses[a.currentItemIndex]=b>a.currentItemIndex?g.hidePreviousClass:g.hideNextClass;var c=b>a.currentItemIndex?g.showNextClass:g.showPreviousClass;a.itemClasses[b]=g.currentItemClass+" "+c,a.currentItemIndex=b,d()}a.itemClasses=[],a.$watch("images",function(a){a.length&&f(0)}),a.animation&&(a.animationClass="wallop-slider--"+a.animation);var g={btnPreviousClass:"wallop-slider__btn--previous",btnNextClass:"wallop-slider__btn--next",itemClass:"wallop-slider__item",currentItemClass:"wallop-slider__item--current",showPreviousClass:"wallop-slider__item--show-previous",showNextClass:"wallop-slider__item--show-next",hidePreviousClass:"wallop-slider__item--hide-previous",hideNextClass:"wallop-slider__item--hide-next"};a.onPrevButtonClicked=function(){f(a.currentItemIndex-1)},a.onNextButtonClicked=function(){f(a.currentItemIndex+1)},a.$watch("currentItemIndex",function(b,c){c>b?"function"==typeof a.onPrevious&&a.onPrevious():"function"==typeof a.onNext&&a.onNext()})}}});